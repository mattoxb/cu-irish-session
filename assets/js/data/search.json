---
layout: compress
swcache: true
---

[
{% assign sep = "" %}
{% for post in site.posts %}{{ sep }}
  {
    "title": {{ post.title | jsonify }},
    "url": {{ post.url | relative_url | jsonify }},
    "categories": {{ post.categories | join: ', ' | jsonify }},
    "tags": {{ post.tags | join: ', ' | jsonify }},
    "date": {{ post.date | jsonify }},
    {% include no-linenos.html content=post.content %}
    {% assign _content = content | strip_html | strip_newlines %}
    "snippet": {{ _content | truncate: 200 | jsonify }},
    "content": {{ _content | jsonify }}
  }
{% assign sep = "," %}
{% endfor %}
{% for page in site.pages %}
  {% if page.layout == 'page' and page.title %}{{ sep }}
  {
    "title": {{ page.title | jsonify }},
    "url": {{ page.url | relative_url | jsonify }},
    "categories": "",
    "tags": "",
    "date": "",
    {% assign page_content = page.content | strip_html | strip_newlines %}
    "snippet": {{ page_content | truncate: 200 | jsonify }},
    "content": {{ page_content | jsonify }}
  }
{% assign sep = "," %}
  {% endif %}
{% endfor %}
]
